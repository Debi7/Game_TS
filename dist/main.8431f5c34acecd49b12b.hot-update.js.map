{"version":3,"file":"main.8431f5c34acecd49b12b.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;AAA8E;AAC1C;AACK;AACzC;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,iCAAiC;AACjC;AACA,kBAAkB,oDAAa;AACxB;AACP;AACA,sCAAsC,OAAO,oDAAO,CAAC,8CAAM;AAC3D,gDAAgD;AAChD,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB,aAAa,+CAAQ;AACrB;AACA;AACA,KAAK;AACL,aAAa,+CAAQ;AACrB;AACA,aAAa,+CAAQ;AACrB,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA,wDAAwD,gDAAgD;AACxG;AACA;AACA;AACA,6BAA6B;AAC7B,KAAK;AACL,IAAI,gDAAS;AACb,2DAA2D,iCAAiC;AAC5F;AACA;AACA;AACA,6BAA6B;AAC7B,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,qCAAqC,4BAA4B;AACjE;AACA,KAAK;AACL,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,YAAY,0DAAmB,yBAAyB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACO,4BAA4B,OAAO,iDAAU;;;;;;;;;UChFpD","sources":["webpack://game_ts/./src/contexts/GameContext.tsx","webpack://game_ts/webpack/runtime/getFullHash"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\nimport _sample from 'lodash/sample';\nimport quotes from '../data/quotes.json';\nvar defaultGameContext = {\n    confetti: false,\n    start: undefined,\n    setStart: function () { },\n    victory: 0,\n    setVictory: function () { },\n    exception: \"\",\n    counter: 0,\n    quoteLetters: \"\",\n    setException: function () { },\n};\nvar GameContext = createContext(defaultGameContext);\nexport var GameProvider = function (_a) {\n    var children = _a.children;\n    var generateQuote = function () { return _sample(quotes); };\n    var returnQuoteLetters = function (quote) { return quote.replace(/\\s/g, '').split('_').join(''); };\n    var _b = useState(false), confetti = _b[0], setConfetti = _b[1];\n    var _c = useState(), start = _c[0], setStart = _c[1];\n    var _d = useState(function () {\n        var savedVictory = sessionStorage.getItem('victory');\n        return savedVictory ? Number(savedVictory) : 0;\n    }), victory = _d[0], setVictory = _d[1];\n    var _e = useState(generateQuote), exception = _e[0], setException = _e[1];\n    var quoteLetters = returnQuoteLetters(exception);\n    var _f = useState(Math.floor(quoteLetters.length / 2)), counter = _f[0], setCounter = _f[1];\n    useEffect(function () {\n        var keyDownHandler = function (event) {\n            var key = event.key;\n            var underscore = '_';\n            var space = ' ';\n            if (key !== underscore && key !== space) {\n                setException(function (prevException) { return prevException.replace(key, underscore); });\n            }\n        };\n        window.addEventListener('keydown', keyDownHandler, false);\n        return function () { return window.removeEventListener('keydown', keyDownHandler, false); };\n    }, []);\n    useEffect(function () {\n        var timer = counter > 0 ? setTimeout(function () { return setCounter(counter - 1); }, 1000) : null;\n        if (counter === 0) {\n            setStart(false);\n        }\n        return function () { return clearInterval(timer); };\n    }, [counter]);\n    useEffect(function () {\n        if (!quoteLetters) {\n            var newQuote = generateQuote();\n            setVictory(function (prevVictory) {\n                var newVictory = prevVictory + 1;\n                sessionStorage.setItem('victory', newVictory.toString());\n                return newVictory;\n            });\n            setConfetti(true);\n            setException(newQuote);\n            setCounter(Math.floor(returnQuoteLetters(newQuote).length / 2));\n            setTimeout(function () { return setConfetti(false); }, 4000);\n        }\n    }, [exception, quoteLetters]);\n    useEffect(function () {\n        if (start) {\n            var newQuote = generateQuote();\n            setException(newQuote);\n            setCounter(Math.floor(returnQuoteLetters(newQuote).length / 2));\n        }\n    }, [start]);\n    return (React.createElement(GameContext.Provider, { value: {\n            confetti: confetti,\n            start: start,\n            setStart: setStart,\n            victory: victory,\n            setVictory: setVictory,\n            exception: exception,\n            counter: counter,\n            quoteLetters: quoteLetters,\n            setException: setException,\n        } }, children));\n};\nexport var useGame = function () { return useContext(GameContext); };\n","__webpack_require__.h = () => (\"23f172534c6009572d1d\")"],"names":[],"sourceRoot":""}